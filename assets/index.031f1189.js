import{p as e,a as t,o as a,c as s,w as l,d as n,b as r,t as u,r as o,e as c,F as d,f as p,g as v,h as i,v as m,i as b,j as h}from"./vendor.2904fae9.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const s=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,n)=>{const r=new URL(e,s);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const u=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(u),onerror(){n(new Error(`Failed to import: ${e}`)),l(o)},onload(){a(self[t].moduleMap[r]),l(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");const f={},w=l("data-v-452acd96");e("data-v-452acd96");const y={class:"github-button",src:"https://ghbtns.com/github-btn.html?user=neal2018&repo=DianaWebsite&type=star&count=true&size=large",title:"GitHub"};t();const g=w(((e,t)=>(a(),s("iframe",y))));f.render=g,f.__scopeId="data-v-452acd96";const k=l("data-v-026e8068");e("data-v-026e8068");const _={class:"text-wrapper"};t();var j=n({expose:[],props:{msg:String},setup:e=>k(((t,l)=>(a(),s("div",_,[r("p",null,u(e.msg),1)]))))});j.__scopeId="data-v-026e8068";const x=l("data-v-15c88e0e");e("data-v-15c88e0e");const U={class:"result-report"},F={key:0},L={key:1},R={class:"result-table"},M=r("thead",null,[r("tr",null,[r("th",null,"文字"),r("th",null,"匹配率"),r("th",null,"相似链接")])],-1),O={class:"td-words"},S={key:0,class:"td-link"},$={key:1,class:"td-link"};t();var I=n({expose:[],props:{answer:{type:Array,required:!0}},setup(e){const t=e,l=o(c((()=>{if(0==t.answer.length)return 0;return(t.answer.reduce((function(e,t){return e+parseFloat(t.rate)*t.words.length}),0)/t.answer.reduce((function(e,t){return e+t.words.length}),0)).toFixed(3)})));return x(((t,n)=>(a(),s(d,null,[r("div",U,[r("p",null,"平均匹配率为 "+u(l.value),1),l.value<=.55?(a(),s("p",F,"重复率比较低，再接再厉！")):(a(),s("p",L,"重复率有点高，要加油噢！"))]),r("table",R,[M,r("tbody",null,[(a(!0),s(d,null,p(e.answer,(e=>(a(),s("tr",null,[r("td",O,u(e.words),1),r("td",{class:"td-rate",style:"color:"+(parseFloat(e.rate)>.7?"red":"black")+";"},u(e.rate),5),"No Pair"!==e.url?(a(),s("td",S,[r("a",{href:e.url,target:"_blank"},"链接地址",8,["href"])])):(a(),s("td",$,"无相似链接"))])))),256))])])],64))))}});I.__scopeId="data-v-15c88e0e";const P={class:"form-wrapper"},D={class:"content-input-wrapper"},E={class:"button-wrapper"};h(n({expose:[],setup(e){const t=o(""),l=o([]),n=o(!1),u=o(!1),d=o(!1),p=o(!1),h="这个冬天真冷，窗外的大雪飞扬，像是要吹灭街上的光。但是看着嘉然跳跳唱唱，处刑大家的小作文，再被写给晚晚的小作文处刑，我觉得有股热流在身体里流淌，紧绷的立毛肌都舒展开来了。\n\n当初在嘉然出现时，有人警告说雪崩时没有一片雪花是无辜的。但我现在想如果是落到嘉然的怀里，再冷的雪也会融化的吧。\n\n可是我没有落到她的怀里，而是落到她的手心了。\n\n我对然然的表演傻笑，旁边脸被冻得发红的妹妹问我，还有哪个冬天比这个更冷吗？\n\n我突然很害怕。我知道，没有嘉然的冬天才是最冷的。\n\n更让人难过的是我没有妹妹，但这个冬天迟早会来。",w=o(c((()=>n.value&&!u.value&&!d.value))),y=async e=>{if(e.preventDefault(),d.value=!1,n.value=!0,u.value=!1,p.value=!1,""===t.value&&(t.value=h),t.value.length>600)return p.value=!0,void(u.value=!0);try{let e=await fetch("https://118.25.75.14:8888/check",{method:"POST",body:JSON.stringify({content:t.value})});200==e.status?(l.value=await e.json(),u.value=!0,console.log(l.value)):d.value=!0}catch(a){d.value=!0}};return(e,o)=>(a(),s("div",null,[r(f),r("div",P,[r("form",{onSubmit:v(y,["prevent"])},[r("div",D,[i(r("textarea",{class:"content-input",id:"content","onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e),placeholder:h},null,512),[[m,t.value]])]),r("div",E,[r("button",{class:"button",type:"submit",disabled:w.value},"查 重",8,["disabled"])])],40,["onSubmit"])]),d.value?(a(),s(j,{key:0,msg:"网络错误，请重试"})):p.value?(a(),s(j,{key:1,msg:"太长了！目前只支持600字以下"},null,8,["msg"])):n.value&&!u.value?(a(),s(j,{key:2,msg:"查重中"})):n.value&&u.value?(a(),s(I,{key:3,answer:l.value},null,8,["answer"])):b("",!0)]))}})).mount("#app");
