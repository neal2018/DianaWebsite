import{p as e,a as t,o as a,c as l,w as s,d as r,b as n,t as u,r as o,e as c,F as d,f as p,g as i,h as v,v as m,i as b,j as h}from"./vendor.2904fae9.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const n=new URL(e,l);if(self[t].moduleMap[n])return a(self[t].moduleMap[n]);const u=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(u),onerror(){r(new Error(`Failed to import: ${e}`)),s(o)},onload(){a(self[t].moduleMap[n]),s(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");const f={},w=s("data-v-452acd96");e("data-v-452acd96");const y={class:"github-button",src:"https://ghbtns.com/github-btn.html?user=neal2018&repo=DianaWebsite&type=star&count=true&size=large",title:"GitHub"};t();const g=w(((e,t)=>(a(),l("iframe",y))));f.render=g,f.__scopeId="data-v-452acd96";const k=s("data-v-026e8068");e("data-v-026e8068");const _={class:"text-wrapper"};t();var j=r({expose:[],props:{msg:String},setup:e=>k(((t,s)=>(a(),l("div",_,[n("p",null,u(e.msg),1)]))))});j.__scopeId="data-v-026e8068";const x=s("data-v-e3c2950e");e("data-v-e3c2950e");const U={class:"result-report"},F={key:0},I={key:1},L={class:"result-table"},R=n("thead",null,[n("tr",null,[n("th",null,"文字"),n("th",null,"匹配率"),n("th",null,"相似链接")])],-1),E={class:"td-words"},M={key:0,class:"td-link"},O={key:2,class:"td-link"},S={key:3,class:"td-link"},$={key:4,class:"td-link"};t();var N=r({expose:[],props:{answer:{type:Array,required:!0}},setup(e){const t=e,s=o(c((()=>{if(0==t.answer.length)return 0;return(t.answer.reduce((function(e,t){return e+parseFloat(t.rate)*t.words.length}),0)/t.answer.reduce((function(e,t){return"Internet Error"===t.url?e:e+t.words.length}),0)).toFixed(3)})));return x(((t,r)=>(a(),l(d,null,[n("div",U,[n("p",null,"平均匹配率为 "+u(s.value),1),s.value<=.55?(a(),l("p",F,"重复率比较低，再接再厉！")):(a(),l("p",I,"重复率有点高，要加油噢！"))]),n("table",L,[R,n("tbody",null,[(a(!0),l(d,null,p(e.answer,(e=>(a(),l("tr",null,[n("td",E,u(e.words),1),"Internet Error"===e.url?(a(),l("td",M,"N/A")):(a(),l("td",{key:1,class:"td-rate",style:"color:"+(parseFloat(e.rate)>.7?"red":"black")+";"},u(e.rate),5)),"No Pair"===e.url?(a(),l("td",O,"无相似链接")):"Internet Error"===e.url?(a(),l("td",S,"网络错误！")):(a(),l("td",$,[n("a",{href:e.url,target:"_blank"},"链接地址",8,["href"])]))])))),256))])])],64))))}});N.__scopeId="data-v-e3c2950e";const P={class:"form-wrapper"},A={class:"content-input-wrapper"},D={class:"button-wrapper"};h(r({expose:[],setup(e){const t=o(""),s=o([]),r=o(!1),u=o(!1),d=o(!1),p=o(!1),h="这个冬天真冷，窗外的大雪飞扬，像是要吹灭街上的光。但是看着嘉然跳跳唱唱，处刑大家的小作文，再被写给晚晚的小作文处刑，我觉得有股热流在身体里流淌，紧绷的立毛肌都舒展开来了。\n\n当初在嘉然出现时，有人警告说雪崩时没有一片雪花是无辜的。但我现在想如果是落到嘉然的怀里，再冷的雪也会融化的吧。\n\n可是我没有落到她的怀里，而是落到她的手心了。\n\n我对然然的表演傻笑，旁边脸被冻得发红的妹妹问我，还有哪个冬天比这个更冷吗？\n\n我突然很害怕。我知道，没有嘉然的冬天才是最冷的。\n\n更让人难过的是我没有妹妹，但这个冬天迟早会来。",w=o(c((()=>r.value&&!u.value&&!d.value))),y=async e=>{if(e.preventDefault(),d.value=!1,r.value=!0,u.value=!1,p.value=!1,""===t.value&&(t.value=h),t.value.length>600)return p.value=!0,void(u.value=!0);try{let e=await fetch("https://118.25.75.14:8888/check",{method:"POST",body:JSON.stringify({content:t.value})});200==e.status?(s.value=await e.json(),u.value=!0,console.log(s.value)):d.value=!0}catch(a){d.value=!0}};return(e,o)=>(a(),l("div",null,[n(f),n("div",P,[n("form",{onSubmit:i(y,["prevent"])},[n("div",A,[v(n("textarea",{class:"content-input",id:"content","onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e),placeholder:h},null,512),[[m,t.value]])]),n("div",D,[n("button",{class:"button",type:"submit",disabled:w.value},"查 重",8,["disabled"])])],40,["onSubmit"])]),d.value?(a(),l(j,{key:0,msg:"网络错误，请重试"})):p.value?(a(),l(j,{key:1,msg:"太长了！目前只支持600字以下"},null,8,["msg"])):r.value&&!u.value?(a(),l(j,{key:2,msg:"查重中......请等待"})):r.value&&u.value?(a(),l(N,{key:3,answer:s.value},null,8,["answer"])):b("",!0)]))}})).mount("#app");
