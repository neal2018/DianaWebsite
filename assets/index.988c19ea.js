import{p as e,a as t,o as a,c as r,w as n,d as l,b as s,t as u,r as o,e as d,F as c,f as p,g as i,h as v,v as m,i as b,j as h}from"./vendor.2904fae9.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const r=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,l)=>{const s=new URL(e,r);if(self[t].moduleMap[s])return a(self[t].moduleMap[s]);const u=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(u),onerror(){l(new Error(`Failed to import: ${e}`)),n(o)},onload(){a(self[t].moduleMap[s]),n(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");const w={},f=n("data-v-452acd96");e("data-v-452acd96");const y={class:"github-button",src:"https://ghbtns.com/github-btn.html?user=neal2018&repo=DianaWebsite&type=star&count=true&size=large",title:"GitHub"};t();const g=f(((e,t)=>(a(),r("iframe",y))));w.render=g,w.__scopeId="data-v-452acd96";const k=n("data-v-026e8068");e("data-v-026e8068");const _={class:"text-wrapper"};t();var x=l({expose:[],props:{msg:String},setup:e=>k(((t,n)=>(a(),r("div",_,[s("p",null,u(e.msg),1)]))))});x.__scopeId="data-v-026e8068";const j=n("data-v-517bd638");e("data-v-517bd638");const F={class:"result-report"},I={key:0},U={key:1},E={key:2},L={class:"result-table"},R=s("thead",null,[s("tr",null,[s("th",null,"文字"),s("th",null,"匹配率"),s("th",null,"相似链接")])],-1),M={class:"td-words"},O={key:0,class:"td-link"},S={key:2,class:"td-link"},$={key:3,class:"td-link"},N={key:4,class:"td-link"};t();var P=l({expose:[],props:{answer:{type:Array,required:!0}},setup(e){const t=e,n=o(d((()=>{if(0==t.answer.length)return 0;return(t.answer.reduce((function(e,t){return e+parseFloat(t.rate)*t.words.length}),0)/t.answer.reduce((function(e,t){return"Internet Error"===t.url?e:e+t.words.length}),0)).toFixed(3)}))),l=o(d((()=>{if(0==t.answer.length)return 0;return(t.answer.reduce((function(e,t){return"Internet Error"===t.url?e:e+1}),0)/t.answer.length).toFixed(3)})));return j(((t,o)=>(a(),r(c,null,[s("div",F,[s("p",null,"平均匹配率为 "+u(n.value),1),l.value<=.2?(a(),r("p",I,"好像服务器网络不太好...可以等待几分钟后重试！")):n.value<=.55?(a(),r("p",U,"重复率比较低，再接再厉！")):(a(),r("p",E,"重复率有点高，要加油噢！"))]),s("table",L,[R,s("tbody",null,[(a(!0),r(c,null,p(e.answer,(e=>(a(),r("tr",null,[s("td",M,u(e.words),1),"Internet Error"===e.url?(a(),r("td",O,"N/A")):(a(),r("td",{key:1,class:"td-rate",style:"color:"+(parseFloat(e.rate)>.7?"red":"black")+";"},u(e.rate),5)),"No Pair"===e.url?(a(),r("td",S,"无相似链接")):"Internet Error"===e.url?(a(),r("td",$,"网络错误！")):(a(),r("td",N,[s("a",{href:e.url,target:"_blank"},"链接地址",8,["href"])]))])))),256))])])],64))))}});P.__scopeId="data-v-517bd638";const A={class:"form-wrapper"},D={class:"content-input-wrapper"},q={class:"button-wrapper"};h(l({expose:[],setup(e){const t=o(""),n=o([]),l=o(!1),u=o(!1),c=o(!1),p=o(!1),h="这个冬天真冷，窗外的大雪飞扬，像是要吹灭街上的光。但是看着嘉然跳跳唱唱，处刑大家的小作文，再被写给晚晚的小作文处刑，我觉得有股热流在身体里流淌，紧绷的立毛肌都舒展开来了。\n\n当初在嘉然出现时，有人警告说雪崩时没有一片雪花是无辜的。但我现在想如果是落到嘉然的怀里，再冷的雪也会融化的吧。\n\n可是我没有落到她的怀里，而是落到她的手心了。\n\n我对然然的表演傻笑，旁边脸被冻得发红的妹妹问我，还有哪个冬天比这个更冷吗？\n\n我突然很害怕。我知道，没有嘉然的冬天才是最冷的。\n\n更让人难过的是我没有妹妹，但这个冬天迟早会来。",f=o(d((()=>l.value&&!u.value&&!c.value))),y=async e=>{if(e.preventDefault(),c.value=!1,l.value=!0,u.value=!1,p.value=!1,""===t.value&&(t.value=h),t.value.length>600)return p.value=!0,void(u.value=!0);try{let e=await fetch("https://118.25.75.14:8888/check",{method:"POST",body:JSON.stringify({content:t.value})});200==e.status?(n.value=await e.json(),u.value=!0,console.log(n.value)):c.value=!0}catch(a){c.value=!0}};return(e,o)=>(a(),r("div",null,[s(w),s("div",A,[s("form",{onSubmit:i(y,["prevent"])},[s("div",D,[v(s("textarea",{class:"content-input",id:"content","onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e),placeholder:h},null,512),[[m,t.value]])]),s("div",q,[s("button",{class:"button",type:"submit",disabled:f.value},"查 重",8,["disabled"])])],40,["onSubmit"])]),c.value?(a(),r(x,{key:0,msg:"网络错误，请重试"})):p.value?(a(),r(x,{key:1,msg:"太长了！目前只支持600字以下"},null,8,["msg"])):l.value&&!u.value?(a(),r(x,{key:2,msg:"查重中......请等待"})):l.value&&u.value?(a(),r(P,{key:3,answer:n.value},null,8,["answer"])):b("",!0)]))}})).mount("#app");
